<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <script>
      const random1 = Math.random() * 1000;
      const random2 = Math.random() * 1000;
      let initNum = 0;
      console.log('random1 :>> ', random1);
      console.log('random2 :>> ', random2);

      function f1 (callback) {
        setTimeout(() => {
          console.log('-----------------------------');
          console.log('initNum :>> ', initNum);
          console.log('我是f1');
          callback(initNum);
          initNum += 1;
        }, random1);
      }

      function f2 (num) {
        setTimeout(() => {
          console.log('我是f2');
          if (num) {
            console.log('num :>> ', num);
            console.log('lalala');
          }
        }, random2);
      }

      const foo = f1.bind(null, f2); //闭包

      foo();
      setTimeout(() => {
        foo();
      }, 2000);
      setTimeout(() => {
        foo();
      }, 4000);
    </script>
  </body>
</html>
